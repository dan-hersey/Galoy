<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Inbound Liquidity, Fee Structures, &amp; Loops on Lightning Infrastructure | Galoy</title>
  <meta name="description" content="Discussion of fee structures for open source Bitcoin banks managing onchain and offchain liquidity.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
  <link rel="stylesheet" href="../../../css/styles.css">
  <link rel="icon" href="../../../images/favicon.png" type="image/png">
  <style>
    .blog-hero { background: var(--neutral-50); padding: var(--space-16) 0 var(--space-8); }
    .blog-hero-image { max-width: 800px; margin: 0 auto var(--space-8); border-radius: var(--radius-lg); overflow: hidden; }
    .blog-hero-image img { width: 100%; height: auto; display: block; }
    .blog-meta { display: flex; align-items: center; gap: var(--space-4); margin-bottom: var(--space-4); color: var(--text-secondary); font-size: var(--font-size-sm); }
    .blog-meta-tag { background: var(--color-primary); color: white; padding: 2px 10px; border-radius: var(--radius-full); font-size: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }
    .blog-article { max-width: 800px; margin: 0 auto; padding: var(--space-8) var(--space-4); }
    .blog-article h2 { margin-top: var(--space-10); margin-bottom: var(--space-4); font-size: var(--font-size-2xl); }
    .blog-article h3 { margin-top: var(--space-8); margin-bottom: var(--space-3); font-size: var(--font-size-xl); }
    .blog-article h4 { margin-top: var(--space-6); margin-bottom: var(--space-3); font-size: var(--font-size-lg); font-weight: 600; }
    .blog-article p { margin-bottom: var(--space-4); line-height: 1.75; color: var(--text-secondary); }
    .blog-article ul, .blog-article ol { margin-bottom: var(--space-4); padding-left: var(--space-6); color: var(--text-secondary); }
    .blog-article li { margin-bottom: var(--space-2); line-height: 1.75; }
    .blog-article blockquote { border-left: 3px solid var(--color-primary); padding: var(--space-4) var(--space-6); margin: var(--space-6) 0; background: var(--neutral-50); border-radius: 0 var(--radius-md) var(--radius-md) 0; }
    .blog-article blockquote p { color: var(--text-primary); font-style: italic; margin-bottom: 0; }
    .blog-article strong { color: var(--text-primary); }
    .blog-article a { color: var(--color-primary); text-decoration: underline; }
    .blog-back { display: inline-flex; align-items: center; gap: var(--space-2); color: var(--text-secondary); text-decoration: none; font-size: var(--font-size-sm); margin-bottom: var(--space-6); }
    .blog-back:hover { color: var(--color-primary); }
    .blog-article img { max-width: 100%; height: auto; border-radius: var(--radius-md); margin: var(--space-4) 0; }
    @media (max-width: 768px) {
      .blog-hero { padding: var(--space-10) 0 var(--space-4); }
      .blog-article { padding: var(--space-4) var(--space-4); }
    }
  </style>
</head>
<body>

  <nav class="navbar">
    <div class="container">
      <div class="navbar-inner">
        <a href="../../../index.html" class="navbar-brand">
          <img src="../../../images/galoy-logo-white.svg" alt="Galoy" class="navbar-logo">
        </a>
        <ul class="navbar-nav">
          <li><a href="../../../index.html" class="nav-link">Home</a></li>
          <li>
            <a href="../../products/index.html" class="nav-link nav-link-dropdown">Products<i data-lucide="chevron-down" class="nav-dropdown-icon"></i></a>
            <div class="dropdown-menu">
              <a href="../../products/index.html" class="dropdown-item"><i data-lucide="layers"></i>All Products</a>
              <div class="dropdown-divider"></div>
              <a href="../../products/lana.html" class="dropdown-item"><i data-lucide="landmark"></i>Lana – Bitcoin Lending</a>
              <a href="../../products/cala.html" class="dropdown-item"><i data-lucide="book-open"></i>Cala – Accounting Ledger</a>
              <a href="../../products/bria.html" class="dropdown-item"><i data-lucide="zap"></i>Bria – Payments Bridge</a>
            </div>
          </li>
          <li>
            <a href="../index.html" class="nav-link nav-link-dropdown active">Research<i data-lucide="chevron-down" class="nav-dropdown-icon"></i></a>
            <div class="dropdown-menu">
              <a href="../index.html" class="dropdown-item"><i data-lucide="library"></i>All Research</a>
              <a href="../bitcoin-banking-101/index.html" class="dropdown-item"><i data-lucide="graduation-cap"></i>Bitcoin Banking 101</a>
              <div class="dropdown-divider"></div>
              <a href="../regulatory/index.html" class="dropdown-item"><i data-lucide="scale"></i>Regulatory Radar</a>
            </div>
          </li>
          <li>
            <a href="../../company/index.html" class="nav-link nav-link-dropdown">Company<i data-lucide="chevron-down" class="nav-dropdown-icon"></i></a>
            <div class="dropdown-menu">
              <a href="../../company/about.html" class="dropdown-item"><i data-lucide="info"></i>About</a>
              <a href="../../company/careers.html" class="dropdown-item"><i data-lucide="users"></i>Careers</a>
              <a href="../../company/security.html" class="dropdown-item"><i data-lucide="shield"></i>Security</a>
              <a href="../../company/press.html" class="dropdown-item"><i data-lucide="newspaper"></i>Press & Media</a>
              <div class="dropdown-divider"></div>
              <a href="../../company/contact.html" class="dropdown-item"><i data-lucide="mail"></i>Contact Us</a>
            </div>
          </li>
        </ul>
        <div class="navbar-social">
          <a href="https://twitter.com/GaloyMoney" class="social-link" target="_blank" rel="noopener" aria-label="X (Twitter)">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
          </a>
          <a href="https://github.com/GaloyMoney" class="social-link" target="_blank" rel="noopener" aria-label="GitHub">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
          </a>
          <a href="https://www.linkedin.com/company/galoymoney" class="social-link" target="_blank" rel="noopener" aria-label="LinkedIn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
          </a>
        </div>
        <button class="navbar-toggle" aria-label="Toggle navigation">
          <span></span><span></span><span></span>
        </button>
      </div>
    </div>
  </nav>

  <section class="blog-hero">
    <div class="container">
      <a href="../index.html" class="blog-back"><i data-lucide="arrow-left" style="width:16px;height:16px;"></i> Back to Research</a>
      <div class="blog-hero-image">
        <img src="../../../images/blog/inbound-liquidity.png" alt="Inbound Liquidity, Fee Structures, &amp; Loops on Lightning Infrastructure">
      </div>
      <div style="max-width: 800px; margin: 0 auto;">
        <div class="blog-meta">
          <span class="blog-meta-tag">Research</span>
          <span>March 10, 2022</span>
          <span>·</span>
          <span>Andrew</span>
        </div>
        <h1>Inbound Liquidity, Fee Structures, &amp; Loops on Lightning Infrastructure</h1>
      </div>
    </div>
  </section>

  <article class="blog-article">
  <header>
    <h1>Inbound Liquidity, Fee Structures, & Loops on Lightning Network Infrastructure</h1>
    <p><a href="/blog-posts/blog">Blog</a> - Andrew - March 10, 2022</p>
  </header>

  <p>This post recaps new research from Galoy: "<a href="https://github.com/GaloyMoney/liquidity-fees-paper">Pricing liquidity for Lightning wallets</a>."</p>

  <blockquote>
    <p>Here, we discuss fee structures for open source Bitcoin banks, with special attention to the case of managing onchain and offchain liquidity, where different usage patterns can accrue dramatically different protocol fees.</p>
  </blockquote>

  <h2>The Challenge: Inbound Lightning Liquidity Leaching</h2>

  <p>Developing infrastructure at the forefront of Lightning adoption uncovers unique challenges on a regular basis. As builders of the <a href="http://bitcoinbeachwallet.com/">Bitcoin Beach Wallet</a> and its underlying <a href="https://github.com/GaloyMoney">open source software</a>, the Galoy team consistently must find solutions to problems few have experienced before.</p>

  <p>Recently, Galoy CEO Nicolas Burtey noticed that the onchain hot wallet was being depleted by a subset of users. These users consistently sent offchain bitcoin to the Bitcoin Beach Wallet only to withdraw it again onchain. To keep processing onchain payments for other users we had to use submarine swaps to replenish our onchain wallet and regain some inbound liquidity. This wouldn't be a problem, except for the fact that <a href="https://medium.com/breez-technology/lightning-is-a-liquidity-network-550896ca27ea">inbound liquidity is a valuable resource on the Lightning Network</a>. The "liquidity leechers" were using Bitcoin Beach Wallet as a less expensive alternative to a service like <a href="https://lightning.engineering/loop/">Loop</a> from Lightning Labs.</p>

  <h2>Applying Data Science to Lightning Fee Structure Optimization</h2>

  <p>Nicolas and Galoy data scientist José Rojas Echenique set out to diagnose the issue and try to find an appropriate solution.</p>

  <p>They first looked at historical data to get a better sense of the problem. They reviewed some of the options LN users have to acquire inbound liquidity and found that the price of inbound liquidity is roughly similar, no matter how you get it.</p>

  <p><em>The rate for inbound liquidity a routing node could expect to get by either routing to Loop or selling on Pool over the course of 2021. Onchain fees plotted for comparison on the lower panel.</em></p>

  <p>They then looked for a solution that would charge this roughly similar market rate across the full range of use cases – including those using Bitcoin Beach Wallet as a loop out service. The result is a dynamic fee structure (<a href="https://github.com/GaloyMoney/liquidity-fees-paper">as described in the report</a>) that charges each user a fair amount based on how they are using the service.</p>

  <h2>Dynamic, Self-Balancing Fee Structures Align Incentives</h2>

  <p>By solving the issue with fees, Bitcoin banks and other Lightning services can continue business operations as usual vs. attempting to detect and regulate actors who use their liquidity for looping.</p>

  <p>With the fee structure in place, all users get charged the right amount based on their usage:</p>

  <ul>
    <li>Everyday wallet users won't get overcharged for temporary imbalances</li>
    <li>Those using Galoy nodes for looping will be charged the right market rates</li>
  </ul>

  <p>The result? An automated solution for Bitcoin banks, a good user experience for end users, and the right fees for all.</p>

  <p><a href="https://github.com/GaloyMoney/liquidity-fees-paper">Read the report on Github</a></p>

  <p>Follow <a href="https://twitter.com/nicolasburtey">Nicolas</a> and <a href="https://twitter.com/jireva">José</a> on Twitter</p>
  </article>

  <section class="cta-section">
    <div class="container">
      <h2>Stay Updated</h2>
      <p>Subscribe to the Bitcoin Banking Standard for monthly insights on Bitcoin banking trends and regulatory developments.</p>
      <div style="max-width: 500px; margin: 0 auto;">
        <form style="display: flex; gap: var(--space-3);">
          <input type="email" placeholder="Enter your email" style="flex: 1; padding: var(--space-3) var(--space-4); border: 1px solid var(--border-default); border-radius: var(--radius-md); font-size: var(--font-size-base);">
          <button type="submit" class="btn btn-primary">Subscribe</button>
        </form>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-brand">
          <img src="../../../images/galoy-logo-white.svg" alt="Galoy" style="height: 32px; margin-bottom: var(--space-4);">
          <p>Banking software for the Bitcoin age. Building infrastructure for the future of finance.</p>
        </div>
        <div>
          <h4 class="footer-heading">Products</h4>
          <ul class="footer-links">
            <li><a href="../../products/index.html">All Products</a></li>
            <li><a href="../../products/lana.html">Lana</a></li>
            <li><a href="../../products/cala.html">Cala</a></li>
            <li><a href="../../products/bria.html">Bria</a></li>
          </ul>
        </div>
        <div>
          <h4 class="footer-heading">Research</h4>
          <ul class="footer-links">
            <li><a href="../index.html">All Research</a></li>
            <li><a href="../bitcoin-banking-101/index.html">Bitcoin Banking 101</a></li>
            <li><a href="../regulatory/index.html">Regulatory Radar</a></li>
          </ul>
        </div>
        <div>
          <h4 class="footer-heading">Company</h4>
          <ul class="footer-links">
            <li><a href="../../company/about.html">About</a></li>
            <li><a href="../../company/careers.html">Careers</a></li>
            <li><a href="../../company/security.html">Security</a></li>
            <li><a href="../../company/contact.html">Contact</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p class="footer-copyright">&copy; 2026 Galoy Inc. All rights reserved.</p>
        <div class="footer-legal">
          <a href="../../terms.html">Terms</a>
          <a href="../../privacy.html">Privacy Policy</a>
        </div>
      </div>
    </div>
  </footer>

  <script>lucide.createIcons();</script>
</body>
</html>